## Overview

This directory contains the results of research into how the firmware in 
Syntor X9000 radios works.

The various info files for [f9dasm](https://github.com/Arakula/f9dasm)
provide code comments that f9dasm will include in disassemble listings of
Syntor X9000 EPROMs.

These comments were generated by various researchers interested in the
internal workings of the X9000 over many years.

**YOU** are welcome to contribute either publically or anonymously.

The comments can be read as-is to provide some general ideas of how the
firmware operates or can be used with a USER PROVIDED binary file to
generate a commented listing.

## Generating a firmware listing

Obviously the X9000 firmware is Copyrighted by Motorola. Please do not ask
for images or firmware listings, they will **NOT** be provided.  However
you are free to create your own listings from your own EPROM.

There are numerous versions of firmware for the X9000.  We use the MD5 sum of the
contents of the EPROM as a unique identifier of the version. All information
for that firmware version is kept in a subdirectory named by the MD5 sum.
We'll call this the version subdirectory.

1. Install f9dasm from https://github.com/Arakula/f9dasm
1. Remove the EPROM from your X9000's personality board (U501) and read the contents using an EPROM programer.  Save the image as a raw binary file with a filename of eprom.bin.
2. Run md5sum on eprom.bin.
3. Check if the version subdirectory exists, if not create it.
4. Move the EPROM image into the version subdirectory.
5. cd into the version subdirectory.
6. run ../disassemble.sh eprom.bin

The disassemble script will create eprom.lst from your eprom.bin

**NB:** A "Unix Like" operating system is assumed, i.e. Linux or possibly macOS.  

It may be possible to use Windows, but I haven't tried it and don't recommend it.

For example
```
skip@Dell-7040:~/xcat/xcat_ng_fw/research$ md5sum eprom.bin
678f8f35b4a2f44926ab67c3b64c4bd4  eprom.bin
skip@Dell-7040:~/xcat/xcat_ng_fw/research$ mkdir 678f8f35b4a2f44926ab67c3b64c4bd4
skip@Dell-7040:~/xcat/xcat_ng_fw/research$ mv eprom.bin 678f8f35b4a2f44926ab67c3b64c4bd4/
skip@Dell-7040:~/xcat/xcat_ng_fw/research$ cd 678f8f35b4a2f44926ab67c3b64c4bd4/
skip@Dell-7040:~/xcat/xcat_ng_fw/research/678f8f35b4a2f44926ab67c3b64c4bd4$ ../disassemble.sh eprom.bin
eprom.bin
f9dasm: M6800/1/2/3/8/9 / H6309 Binary/OS9/FLEX9 Disassembler V1.80
Loaded binary file eprom.bin
skip@Dell-7040:~/xcat/xcat_ng_fw/research/678f8f35b4a2f44926ab67c3b64c4bd4$
skip@Dell-7040:~/xcat/xcat_ng_fw/research/678f8f35b4a2f44926ab67c3b64c4bd4$ ll
total 1796
drwxrwxr-x 2 skip skip   4096 Aug 24 10:45 ./
drwxrwxr-x 3 skip skip   4096 Aug 24 10:45 ../
-rw-rw-r-- 1 skip skip      0 Aug 24 10:44 comments.nfo
-rwxrw-r-- 1 skip skip  16384 Aug 24 06:28 eprom.bin*
-rw-rw-r-- 1 skip skip 550268 Aug 24 10:44 eprom.lst
-rw-rw-r-- 1 skip skip     43 Aug 24 10:44 eprom.nfo
```

# Scripts

## ida2info.sh

If you use IDA Pro to facilitate your research the ida2info.sh script can
be used to create an f9dasm .nfo file containing the comments from your IDA 
generated listings.

Usage ida2info.sh \<listing file> \<f9dasm info file>

for example:
```
skip@Dell-7040:~/xcat/xcat_ng_fw/research/678f8f35b4a2f44926ab67c3b64c4bd4$ ../ida2info.sh ida_pro.lst comments.nfo
```

